<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Ansible configurator</title>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" />
		<!-- Remove .disabled when all categories/modules will be covered -->
		<style type="text/css">
			.js-categories-list li.list-group-item:not(.disabled):hover,
			.js-modules-list li.list-group-item:not(.disabled):hover {
				cursor: pointer;
			}
		</style>
	</head>
	<body>
		<div class="container-fluid">
			<div class="row">
				<div class="col-md-2 js-categories-list">
					<ul class="list-group list-unstyled">
						<!-- Populated from JavaScript -->
					</ul>
				</div>
				<div class="col-md-3 hidden js-modules-list">
					<ul class="list-group list-unstyled">
						<!-- Populated from JavaScript -->
					</ul>
				</div>
				<div class="col-md-3 hidden js-module-options-list">
					<ul class="list-group list-unstyled">
						<!-- Populated from JavaScript -->
					</ul>
				</div>
				<div class="col-md-4 hidden js-result-command">
					<textarea class="js-result-textarea" rows="20" cols="50" autocomplete="off" readonly>
					</textarea>
				</div>
			</div>
		</div>

		<script src="http://yastatic.net/jquery/2.1.1/jquery.min.js"></script>
		<script src="http://yastatic.net/lodash/2.4.1/lodash.underscore.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
		<script>
			$(document).ready(function() {
				// data
				var modulesData = [
					{
						title: 'Cloud',
						modules: [
						]
					},
					{
						title: 'Commands',
						modules: [
							{
								name: 'command',
								description: 'Executes a command on a remote node',
								type: 'core',
								options: {
									chdir: {
										type: 'string',
										required: false,
										since_version: '0.6',
										description: 'Cd into this directory before running the command'
									},
									creates: {
										type: 'string',
										required: false,
										description: 'A filename, when it already exists, this step will not be run'
									},
									executable: {
										type: 'string',
										required: false,
										since_version: '0.9',
										description: 'Change the shell used to execute the command. Should be an absolute path to the executable'
									},
									free_form: {
										type: 'string',
										required: true,
										description: 'Takes a free form command to run'
									},
									removes: {
										type: 'string',
										required: false,
										since_version: '0.8',
										description: 'A filename, when it does not exist, this step will not be run'
									},
									warn: {
										type: 'boolean',
										required: false,
										since_version: '1.8',
										default_value: 'True',
										description: 'If command warnings are on in ansible.cfg, do not warn about this particular line if set to no/false'
									}
								}
							},
							{
								name: 'raw',
								description: 'Executes a low-down and dirty SSH command',
								type: 'core',
								options: {
									executable: {
										type: 'string',
										required: false,
										since_version: '1.0',
										description: 'Change the shell used to execute the command. Should be an absolute path to the executable'
									},
									free_form: {
										type: 'string',
										required: true,
										description: 'Takes a free form command to run'
									}
								}
							},
							{
								name: 'script',
								description: 'Runs a local script on a remote node after transferring it',
								type: 'core',
								options: {
									creates: {
										type: 'string',
										required: false,
										since_version: '1.5',
										description: 'A filename, when it already exists, this step will not be run'
									},
									free_form: {
										type: 'string',
										required: true,
										description: 'Path to the local script file followed by optional arguments'
									},
									removes: {
										type: 'string',
										required: false,
										since_version: '1.5',
										description: 'A filename, when it does not exist, this step will not be run'
									}
								}
							},
							{
								name: 'shell',
								description: 'Execute commands in nodes',
								type: 'core',
								options: {
									chdir: {
										type: 'string',
										required: false,
										since_version: '0.6',
										description: 'Cd into this directory before running the command'
									},
									creates: {
										type: 'string',
										required: false,
										description: 'A filename, when it already exists, this step will not be run'
									},
									executable: {
										type: 'string',
										required: false,
										since_version: '0.9',
										description: 'Change the shell used to execute the command. Should be an absolute path to the executable'
									},
									free_form: {
										type: 'string',
										required: true,
										description: 'Takes a free form command to run'
									},
									removes: {
										type: 'string',
										required: false,
										since_version: '0.8',
										description: 'A filename, when it does not exist, this step will not be run'
									},
									warn: {
										type: 'boolean',
										required: false,
										since_version: '1.8',
										default_value: 'True',
										description: 'If command warnings are on in ansible.cfg, do not warn about this particular line if set to no/false'
									}
								}
							}
						]
					},
					{
						title: 'Database',
						modules: [
							{
								name: 'mongodb_user',
								description: 'Adds or removes a user from a MongoDB database',
								type: 'extras',
								options: {
								}
							},
							{
								name: 'redis',
								description: 'Various redis commands, slave and flush',
								type: 'extras',
								options: {
								}
							},
							{
								name: 'riak',
								description: 'This module handles some common Riak operations',
								type: 'extras',
								options: {
								}
							},
							{
								name: 'mysql_db',
								description: 'Add or remove MySQL databases from a remote host',
								type: 'core',
								options: {
								}
							},
							{
								name: 'mysql_replication',
								description: 'Manage MySQL replication',
								type: 'extras',
								options: {
								}
							},
							{
								name: 'mysql_user',
								description: 'Adds or removes a user from a MySQL database',
								type: 'core',
								options: {
								}
							},
							{
								name: 'mysql_variables',
								description: 'Manage MySQL global variables',
								type: 'core',
								options: {
								}
							},
							{
								name: 'postgresql_db',
								description: 'Add or remove PostgreSQL databases from a remote host',
								type: 'core',
								options: {
								}
							},
							{
								name: 'postgresql_privs',
								description: 'Grant or revoke privileges on PostgreSQL database objects',
								type: 'core',
								options: {
								}
							},
							{
								name: 'postgresql_user',
								description: 'Adds or removes a users (roles) from a PostgreSQL database',
								type: 'core',
								options: {
								}
							}
						]
					},
					{
						title: 'Files',
						modules: [
							{
								name: 'acl',
								description: 'Sets and retrieves file ACL information',
								type: 'core',
								options: {
								}
							},
							{
								name: 'assemble',
								description: 'Assembles a configuration file from fragments',
								type: 'core',
								options: {
								}
							},
							{
								name: 'copy',
								description: 'Copies files to remote locations',
								type: 'core',
								options: {
								}
							},
							{
								name: 'fetch',
								description: 'Fetches a file from remote nodes',
								type: 'core',
								options: {
								}
							},
							{
								name: 'file',
								description: 'Sets attributes of files',
								type: 'core',
								options: {
								}
							},
							{
								name: 'ini_file',
								description: 'Tweak settings in INI files',
								type: 'core',
								options: {
								}
							},
							{
								name: 'lineinfile',
								description: 'Ensure a particular line is in a file, or replace an existing line using a back-referenced regular expression',
								type: 'core',
								options: {
								}
							},
							{
								name: 'replace',
								description: 'Replace all instances of a particular string in a file using a back-referenced regular expression',
								type: 'core',
								options: {
								}
							},
							{
								name: 'stat',
								description: 'Retrieve file or file system status',
								type: 'core',
								options: {
								}
							},
							{
								name: 'synchronize',
								description: 'Uses rsync to make synchronizing file paths in your playbooks quick and easy',
								type: 'core',
								options: {
								}
							},
							{
								name: 'template',
								description: 'Templates a file out to a remote server',
								type: 'core',
								options: {
								}
							},
							{
								name: 'unarchive',
								description: 'Copies an archive to a remote location and unpack it',
								type: 'core',
								options: {
								}
							},
							{
								name: 'xattr',
								description: 'Set/retrieve extended attributes',
								type: 'core',
								options: {
								}
							},
						]
					},
					{
						title: 'Inventory',
						modules: [
							{
								name: 'add_host',
								description: 'Add a host (and alternatively a group) to the ansible-playbook in-memory inventory',
								type: 'core',
								options: {
									groups: {
										type: 'string',
										required: false,
										description: 'The groups to add the hostname to, comma separated'
									},
									name: {
										type: 'string',
										required: true,
										description: 'The hostname/ip of the host to add to the inventory, can include a colon and a port number'
									}
								}
							},
							{
								name: 'group_by',
								description: 'Create Ansible groups based on facts',
								type: 'core',
								options: {
									key: {
										type: 'string',
										required: true,
										description: 'The variables whose values will be used as groups'
									}
								}
							}
						]
					},
					{
						title: 'Messaging',
						modules: [
							{
								name: 'rabbitmq_parameter',
								description: 'Adds or removes parameters to RabbitMQ',
								options: [
								]
							},
							{
								name: 'rabbitmq_plugin',
								description: 'Adds or removes plugins to RabbitMQ',
								options: [
								]
							},
							{
								name: 'rabbitmq_policy',
								description: 'Manage the state of policies in RabbitMQ',
								options: [
								]
							},
							{
								name: 'rabbitmq_user',
								description: 'Adds or removes users to RabbitMQ',
								options: [
								]
							},
							{
								name: 'rabbitmq_vhost',
								description: 'Manage the state of a virtual host in RabbitMQ',
								options: [
								]
							}
						]
					},
					{
						title: 'Monitoring',
						modules: [
						]
					},
					{
						title: 'Network',
						modules: [
						]
					},
					{
						title: 'Notification',
						modules: [
						]
					},
					{
						title: 'Packaging',
						modules: [
							{
								name: 'apt',
								description: 'Manages apt-packages',
								type: 'core',
								options: {
									cache_valid_time: {
										type: 'string',
										required: false,
										description: 'If update_cache is specified and the last run is less or equal than cache_valid_time seconds ago, the update_cache gets skipped'
									},
									deb: {
										type: 'string',
										required: false,
										since_version: '1.6',
										description: 'Path to a .deb package on the remote machine'
									},
									default_release: {
										type: 'string',
										required: false,
										description: 'Corresponds to the -t option for apt and sets pin priorities'
									},
									dpkg_options: {
										type: 'string',
										required: false,
										default_value: 'force-confdef,force-confold',
										description: "Add dpkg options to apt command. Defaults to '-o \"Dpkg::Options::=--force-confdef\" -o \"Dpkg::Options::=--force-confold\"'Options should be supplied as comma separated list"
									},
									force: {
										type: 'choice',
										choices: ['yes', 'no'],
										required: false,
										default_value: 'no',
										description: 'If yes, force installs/removes'
									},
									install_recommends: {
										type: 'choice',
										choices: ['yes', 'no'],
										required: false,
										default_value: 'yes',
										description: "Corresponds to the --no-install-recommends option for apt. Default behavior (yes) replicates apt's default behavior; no does not install recommended packages. Suggested packages are never installed"
									},
									name: {
										type: 'string',
										required: false,
										description: 'A  package name, like foo, or package specifier with version, like foo=1.0. Name wildcards (fnmatch) like apt* and version wildcards like foo=1.0* are also supported'
									},
									purge: {
										type: 'choice',
										choices: ['yes', 'no'],
										required: false,
										description: 'Will force purging of configuration files if the module state is set to absent'
									},
									state: {
										type: 'choice',
										choices: ['latest', 'absent', 'present'],
										required: false,
										default_value: 'present',
										description: 'Indicates the desired package state. latest ensures that the latest version is installed'
									},
									update_cache: {
										type: 'choice',
										choices: ['yes', 'no'],
										required: false,
										description: 'Run the equivalent of apt-get update before the operation. Can be run as part of the package installation or as a separate step'
									},
									upgrade: {
										type: 'choice',
										choices: ['yes', 'safe', 'full', 'dist'],
										required: false,
										since_version: '1.1',
										default_value: 'yes',
										description: 'If yes or safe, performs an aptitude safe-upgrade. If full, performs an aptitude full-upgrade. If dist, performs an apt-get dist-upgrade. Note: This does not upgrade a specific package, use state=latest for that'
									}
								}
							},
							{
								name: 'apt_key',
								description: 'Add or remove an apt key',
								type: 'core',
								since_version: '1.0',
								options: {
									data: {
										type: 'string',
										required: false,
										description: 'Keyfile contents'
									},
									file: {
										type: '',
										required: false,
										description: 'Keyfile path'
									},
									id: {
										type: '',
										required: false,
										description: 'Identifier of key'
									},
									keyring: {
										type: 'string',
										required: false,
										since_version: '1.3',
										description: 'Path to specific keyring file in /etc/apt/trusted.gpg.d'
									},
									keyserver: {
										type: 'string',
										required: false,
										since_version: '1.6',
										description: 'Keyserver to retrieve key from'
									},
									state: {
										type: 'choice',
										choices: ['absent', 'absent'],
										required: false,
										default_value: 'present',
										description: 'Used to specify if key is being added or revoked'
									},
									url: {
										type: 'string',
										required: false,
										description: 'Url to retrieve key from'
									},
									validate_certs: {
										type: 'choice',
										choices: ['yes', 'no'],
										required: false,
										default_value: 'yes',
										description: 'If no, SSL certificates for the target url will not be validated. This should only be used on personally controlled sites using self-signed certificates'
									}
								}
							},
							{
								name: 'apt_repository',
								description: 'Add and remove APT repositories',
								type: 'core',
								options: {
									mode: {
										type: 'string',
										required: false,
										since_version: '1.6',
										default_value: '420',
										description: 'The octal mode for newly created files in sources.list.d'
									},
									repo: {
										type: 'string',
										required: true,
										description: 'A source string for the repository'
									},
									state: {
										type: 'choice',
										choices: ['absent', 'present'],
										required: false,
										default_value: 'present',
										description: 'A source string state'
									},
									update_cache: {
										type: 'choice',
										choices: ['yes', 'no'],
										required: false,
										default_value: 'yes',
										description: 'Run the equivalent of apt-get update when a change occurs. Cache updates are run after making changes'
									},
									validate_certs: {
										type: 'choice',
										choices: ['yes', 'no'],
										required: false,
										since_version: '1.8',
										default_value: 'yes',
										description: 'If no, SSL certificates for the target repo will not be validated. This should only be used on personally controlled sites using self-signed certificates'
									}
								}
							},
							{
								name: 'apt_rpm',
								description: 'apt_rpm package manager',
								options: [
								]
							},
							{
								name: 'composer',
								description: 'Dependency Manager for PHP',
								options: [
								]
							},
							{
								name: 'cpanm',
								description: 'Manages Perl library dependencies',
								options: [
								]
							},
							{
								name: 'easy_install',
								description: 'Installs Python libraries',
								options: [
								]
							},
							{
								name: 'gem',
								description: 'Manage Ruby gems',
								options: [
								]
							},
							{
								name: 'homebrew',
								description: 'Package manager for Homebrew',
								options: [
								]
							},
							{
								name: 'homebrew_cask',
								description: 'Install/uninstall homebrew casks',
								options: [
								]
							},
							{
								name: 'homebrew_tap',
								description: 'Tap a Homebrew repository',
								options: [
								]
							},
							{
								name: 'layman',
								description: 'Manage Gentoo overlays',
								options: [
								]
							},
							{
								name: 'macports',
								description: 'Package manager for MacPorts',
								options: [
								]
							},
							{
								name: 'npm',
								description: 'Manage node.js packages with npm',
								options: [
								]
							},
							{
								name: 'openbsd_pkg',
								description: 'Manage packages on OpenBSD',
								options: [
								]
							},
							{
								name: 'opkg',
								description: 'Package manager for OpenWrt',
								options: [
								]
							},
							{
								name: 'pacman',
								description: 'Manage packages with pacman',
								options: [
								]
							},
							{
								name: 'pip',
								description: 'Manages Python library dependencies',
								options: [
								]
							},
							{
								name: 'pkgin',
								description: 'Package manager for SmartOS',
								options: [
								]
							},
							{
								name: 'pkgng',
								description: 'Package manager for FreeBSD >= 9.0',
								options: [
								]
							},
							{
								name: 'pkgutil',
								description: 'Manage CSW-Packages on Solaris',
								options: [
								]
							},
							{
								name: 'portage',
								description: 'Package manager for Gentoo',
								options: [
								]
							},
							{
								name: 'portinstall',
								description: 'Installing packages from FreeBSDâ€™s ports system',
								options: [
								]
							},
							{
								name: 'redhat_subscription',
								description: 'Manage Red Hat Network registration and subscriptions using the subscription-manager command',
								options: [
								]
							},
							{
								name: 'rhn_channel',
								description: 'Adds or removes Red Hat software channels',
								options: [
								]
							},
							{
								name: 'rhn_register',
								description: 'Manage Red Hat Network registration using the rhnreg_ks command',
								options: [
								]
							},
							{
								name: 'rpm_key',
								description: 'Adds or removes a gpg key from the rpm db',
								options: [
								]
							},
							{
								name: 'svr4pkg',
								description: 'Manage Solaris SVR4 packages',
								options: [
								]
							},
							{
								name: 'swdepot',
								description: 'Manage packages with swdepot package manager (HP-UX)',
								options: [
								]
							},
							{
								name: 'urpmi',
								description: 'Urpmi manager',
								options: [
								]
							},
							{
								name: 'yum',
								description: 'Manages packages with the yum package manager',
								type: 'core',
								options: {
									conf_file: {
										type: 'string',
										required: false,
										since_version: '0.6',
										description: 'The remote yum configuration file to use for the transaction'
									},
									disable_gpg_check: {
										type: 'choice',
										choices: ['yes', 'no'],
										required: false,
										since_version: '1.2',
										default_value: 'no',
										description: 'Whether to disable the GPG checking of signatures of packages being installed. Has an effect only if state is present or latest'
									},
									disablerepo: {
										type: 'string',
										required: false,
										since_version: '0.9',
										description: 'Repoid of repositories to disable for the install/update operation. These repos will not persist beyond the transaction. When specifying multiple repos, separate them with a ","'
									},
									enablerepo: {
										type: 'string',
										required: false,
										since_version: '0.9',
										description: 'Repoid of repositories to disable for the install/update operation. These repos will not persist beyond the transaction. When specifying multiple repos, separate them with a ","'
									},
									list: {
										type: 'string',
										required: false,
										description: 'Various (non-idempotent) commands for usage with /usr/bin/ansible and not playbooks'
									},
									name: {
										type: 'string',
										required: true,
										description: "Package name, or package specifier with version, like name-1.0. When using state=latest, this can be '*' which means run: yum -y update. You can also pass a url or a local path to a rpm file"
									},
									state: {
										type: 'choice',
										choices: ['present', 'latest', 'absent'],
										required: false,
										default_value: 'present',
										description: 'Whether to install (present, latest), or remove (absent) a package'
									}
								}
							},
							{
								name: 'zypper',
								description: 'Manage packages on SUSE and openSUSE',
								options: [
								]
							},
							{
								name: 'zypper_repository',
								description: 'Add and remove Zypper repositories',
								options: [
								]
							}
						]
					},
					{
						title: 'Source Control',
						modules: [
							{
								name: 'bzr',
								description: 'Deploy software (or files) from bzr branches',
								options: [
								]
							},
							{
								name: 'git',
								description: 'Deploy software (or files) from git checkouts',
								options: [
								]
							},
							{
								name: 'github_hooks',
								description: 'Manages github service hooks',
								options: [
								]
							},
							{
								name: 'hg',
								description: 'Manages Mercurial (hg) repositories',
								options: [
								]
							},
							{
								name: 'subversion',
								description: 'Deploys a subversion repository',
								options: [
								]
							}
						]
					},
					{
						title: 'System',
						modules: [
							{
								name: 'alternatives',
								description: 'Manages alternative programs for common commands',
								type: 'extras',
								options: {
								}
							},
							{
								name: 'at',
								description: 'Schedule the execution of a command or script file via the at command',
								type: 'extras',
								options: {
								}
							},
							{
								name: 'authorized_key',
								description: 'Adds or removes an SSH authorized key',
								type: 'core',
								options: {
								}
							},
							{
								name: 'capabilities',
								description: 'Manage Linux capabilities',
								type: 'extras',
								options: {
								}
							},
							{
								name: 'cron',
								description: 'Manage cron.d and crontab entries',
								type: 'core',
								options: {
								}
							},
							{
								name: 'debconf',
								description: 'Configure a .deb package',
								type: 'extras',
								options: {
								}
							},
							{
								name: 'facter',
								description: 'Runs the discovery program facter on the remote system',
								type: 'extras',
								options: {
								}
							},
							{
								name: 'filesystem',
								description: 'Makes file system on block device',
								type: 'extras',
								options: {
								}
							},
							{
								name: 'firewalld',
								description: 'Manage arbitrary ports/services with firewalld',
								type: 'extras',
								options: {
								}
							},
							{
								name: 'getent',
								description: 'A wrapper to the unix getent utility',
								type: 'extras',
								options: {
								}
							},
							{
								name: 'group',
								description: 'Add or remove groups',
								type: 'core',
								options: {
								}
							},
							{
								name: 'hostname',
								description: 'Manage hostname',
								type: 'core',
								options: {
								}
							},
							{
								name: 'kernel_blacklist',
								description: 'Blacklist kernel modules',
								type: 'extras',
								options: {
								}
							},
							{
								name: 'locale_gen',
								description: 'Creates or removes locales',
								type: 'extras',
								options: {
								}
							},
							{
								name: 'lvg',
								description: 'Configure LVM volume groups',
								type: 'extras',
								options: {
								}
							},
							{
								name: 'lvol',
								description: 'Configure LVM logical volumes',
								type: 'extras',
								options: {
								}
							},
							{
								name: 'modprobe',
								description: 'Add or remove kernel modules',
								type: 'extras',
								options: {
								}
							},
							{
								name: 'mount',
								description: 'Control active and configured mount points',
								type: 'core',
								options: {
								}
							},
							{
								name: 'ohai',
								description: 'Returns inventory data from Ohai',
								type: 'extras',
								options: {
								}
							},
							{
								name: 'open_iscsi',
								description: 'Manage iscsi targets with open-iscsi',
								type: 'extras',
								options: {
								}
							},
							{
								name: 'ping',
								description: 'Try to connect to host and return pong on success',
								type: 'core',
								options: {
								}
							},
							{
								name: 'seboolean',
								description: 'Toggles SELinux booleans',
								type: 'core',
								options: {
								}
							},
							{
								name: 'selinux',
								description: 'Change policy and state of SELinux',
								type: 'core',
								options: {
								}
							},
							{
								name: 'service',
								description: 'Manage services',
								type: 'core',
								options: {
								}
							},
							{
								name: 'setup',
								description: 'Gathers facts about remote hosts',
								type: 'core',
								options: {
								}
							},
							{
								name: 'sysctl',
								description: 'Manage entries in sysctl.conf',
								type: 'core',
								options: {
								}
							},
							{
								name: 'ufw',
								description: 'Manage firewall with UFW',
								type: 'extras',
								options: {
								}
							},
							{
								name: 'user',
								description: 'Manage user accounts',
								type: 'core',
								options: {
								}
							},
							{
								name: 'zfs',
								description: 'Manage zfs',
								type: 'extras',
								options: {
								}
							}
						]
					},
					{
						title: 'Utilities',
						modules: [
							{
								name: 'accelerate',
								description: 'Enable accelerated mode on remote node',
								type: 'core',
								since_version: '1.3',
								options: {
								}
							},
							{
								name: 'fireball',
								description: 'Enable fireball mode on remote node',
								type: 'core',
								options: {
								}
							},
							{
								name: 'assert',
								description: 'Fail with custom message',
								since_version: '1.5',
								type: 'core',
								options: {
								}
							},
							{
								name: 'async_status',
								description: 'Obtain status of asynchronous task',
								type: 'core',
								options: {
								}
							},
							{
								name: 'debug',
								description: 'Print statements during execution',
								type: 'core',
								options: {
								}
							},
							{
								name: 'fail',
								description: 'Fail with custom message',
								type: 'core',
								options: {
								}
							},
							{
								name: 'include_vars',
								description: 'Load variables from files, dynamically within a task',
								since_version: '1.4',
								type: 'core',
								options: {
								}
							},
							{
								name: 'pause',
								description: 'Pause playbook execution',
								type: 'core',
								options: {
								}
							},
							{
								name: 'set_fact',
								description: 'Set host facts from a task',
								since_version: '1.2',
								type: 'core',
								options: {
								}
							},
							{
								name: 'wait_for',
								description: 'Waits for a condition before continuing',
								type: 'core',
								options: {
								}
							}
						]
					},
					{
						title: 'Web Infrastructure',
						modules: [
							{
								name: 'apache2_module',
								description: 'Enables/disables a module of the Apache2 webserver',
								since_version: '1.6',
								options: {
								}
							},
							{
								name: 'django_manage',
								description: 'Manages a Django application',
								since_version: '1.1',
								options: {
								}
							},
							{
								name: 'ejabberd_user',
								description: 'Manages users for ejabberd servers',
								since_version: '1.5',
								options: {
								}
							},
							{
								name: 'htpasswd',
								description: 'Manages user files for basic authentication',
								since_version: '1.3',
								options: {
								}
							},
							{
								name: 'jboss',
								description: 'Deploys applications to JBoss',
								since_version: '1.4',
								options: {
								}
							},
							{
								name: 'jira',
								description: 'Create and modify issues in a JIRA instance',
								since_version: '1.6',
								options: {
								}
							},
							{
								name: 'supervisorctl',
								description: 'Manage the state of a program or group of programs running via supervisord',
								options: [
								]
							}
						]
					},
					{
						title: 'Windows',
						modules: [
							{
								name: 'win_feature',
								description: 'Installs and uninstalls Windows Features',
								since_version: '1.7',
								options: {
								}
							},
							{
								name: 'win_get_url',
								description: 'Fetches a file from a given URL',
								since_version: '1.7',
								options: {
								}
							},
							{
								name: 'win_group',
								description: 'Add and remove local groups',
								since_version: '1.7',
								options: {
								}
							},
							{
								name: 'win_msi',
								description: 'Installs and uninstalls Windows MSI files',
								since_version: '1.7',
								options: {
								}
							},
							{
								name: 'win_ping',
								description: 'A windows version of the classic ping module',
								since_version: '1.7',
								options: {
								}
							},
							{
								name: 'win_service',
								description: 'Manages Windows services',
								since_version: '1.7',
								options: {
								}
							},
							{
								name: 'win_stat',
								description: 'Returns information about a Windows file',
								since_version: '1.7',
								options: {
								}
							},
							{
								name: 'win_user',
								description: 'Manages local Windows user accounts',
								since_version: '1.7',
								options: {
								}
							}
						]
					}
				];

				// helpers

				var getEntryName = function(elem) {
					return $('span', elem).first().text();
				};

				var highlightMenuEntry = function(elem, clearOtherEntries) {
					if (clearOtherEntries) {
						$(elem).siblings('.list-group-item-info').removeClass('list-group-item-info');
					}
					$(elem).addClass('list-group-item-info');
				};

				var unhighlightMenuEntry = function(elem) {
					$(elem).removeClass('list-group-item-info');
				};

				var regenerateYamlDocument = function() {
					$('.js-result-textarea').html(generateYamlCommand());
				};

				var findCategoryByName = function(categoryName) {
					return _.find(modulesData, function(elem) {
						return elem.title == categoryName;
					});
				};

				var getModulesListOfCategory = function(categoryName) {
					var category = findCategoryByName(categoryName);
					return category.modules;
					// TODO: uncomment when all modules will be covered
					//return _.pluck(category.modules, 'name');
				};

				var showModulesList = function(elem) {
					var modules = getModulesListOfCategory(getEntryName(elem));
					$('.js-modules-list ul').html(createEntries(modules, 'js-module-name'));
					registerEventsForModulesList();
					$('.js-modules-list').removeClass("hidden");
				};

				var getNameOfActiveCategory = function() {
					return $('.js-categories-list .list-group-item-info span').first().text();
				};

				var findModuleByName = function(modulesList, moduleName) {
					return _.find(modulesList, function(elem) {
						return elem.name == moduleName;
					});
				};

				var getOptionsListOfModule = function(moduleName) {
					var categoryName = getNameOfActiveCategory();
					var category = findCategoryByName(categoryName);
					var module = findModuleByName(category.modules, moduleName);
					return module.options;
				};

				var showModuleOptionsList = function(elem) {
					var modules = getOptionsListOfModule(getEntryName(elem));

					$('.js-module-options-list ul').html(createEntriesForModuleOptions(modules, 'js-module-option-name'));
					registerEventsForModuleOptionsList();

					$('.js-module-options-list').removeClass('hidden');
				};

				var hideModuleOptionsList = function() {
					$('.js-module-options-list').addClass('hidden');
				};

				var clearModuleOptionValue = function(elem) {
					$('.js-module-option-text-value', elem).val('');
				};

				var showYamlDocument = function() {
					regenerateYamlDocument();

					$('.js-result-command').removeClass('hidden');
				};

				var hideYamlDocument = function() {
					$('.js-result-command').addClass('hidden');
				};

				var getCategoriesList = function() {
					return modulesData;
					// TODO: uncomment when all categories will be covered
					//return _.pluck(modulesData, 'title');
				};

				var createEntries = function(names, elemClassName) {
					// TODO: remove 'disable' when all categories will be covered
					return _.map(names, function(elemName) {
						var maybeDisabled = !_.isUndefined(elemName.modules) || !_.isUndefined(elemName.options);
						var withoutModules = !_.isUndefined(elemName.modules) && _.isEmpty(elemName.modules); // only for categories
						var withoutOptions = !_.isUndefined(elemName.options) && _.isEmpty(elemName.options); // only for modules
						var isDisabled = maybeDisabled && (withoutModules || withoutOptions);
						var disabledClass = isDisabled ? ' disabled' : '';
						return '<li class="list-group-item' + disabledClass + '">'
								+ '<span class="' + elemClassName + '">'
									+ (elemName.title || elemName.name || elemName) // TODO: remove title when all categories will be covered
								+ '</span>'
								+ (isDisabled ? '&nbsp;<span class="label label-default pull-right">TODO</span>' : '')
								+ (elemName.since_version ? '<span class="label label-warning pull-right">' + elemName.since_version + '</span>' : '')
								+ (elemName.description ? '<br /><small>' + elemName.description + '</small>' : '')
							+ '</li>';
					});
				};

				var createEntriesForModuleOptions = function(names, elemClassName) {
					return _.map(names, function(value, key) {
							var result = '<li class="list-group-item">';
							result += '<span class="' + elemClassName + '">' + key + '</span>&nbsp;';
							if (value.type === 'choice' && value.choices && value.choices.length > 0) {
								result += '<select class="js-module-option-value js-module-option-select-value">';
								if (!value.default_value) {
									result += '<option value=""></option>';
								}
								_.forEach(value.choices, function(choice) {
									if (value.default_value === choice) {
										result += '<option value="' + choice + '" selected="selected">' + choice + '</option>';
									} else {
										result += '<option value="' + choice + '">' + choice + '</option>';
									}
								});
								result += '</select>';
							} else {
								if (value.default_value) {
									result +='<input type="text" class="js-module-option-value js-module-option-text-value" autocomplete="off" value="' + value.default_value + '" />';
								} else {
									result +='<input type="text" class="js-module-option-value js-module-option-text-value" autocomplete="off" />';
								}
							}
							if (value.since_version) {
								result += '<span class="label label-warning pull-right">' + value.since_version + '</span>';
							}
							result += '<br/><small>' + value.description + '</small>';
							result += '</li>';
							return result;
					});
				};

				var showCategoriesList = function() {
					$('.js-categories-list ul').html(createEntries(getCategoriesList(), 'js-category-name'));
					registerEventsForCategoriesList();
				};

				var registerEventsForCategoriesList = function() {
					// TODO: remove 'disabled' when all categories will be covered
					$('.js-categories-list .list-group-item:not(.disabled)')
						.hover(function() {
							$(this).toggleClass('active');
						})
						.click(function(e) {
							$(this).trigger('app:category-selected');
						});
				};

				var registerEventsForModulesList = function() {
					// TODO: remove 'disabled' when all modules will be covered
					$('.js-modules-list .list-group-item:not(.disabled)')
						.hover(function() {
							$(this).toggleClass('active');
						})
						.click(function() {
							$(this).trigger('app:module-selected');
						});
				};

				var registerEventsForModuleOptionsList = function() {
					$('.js-module-options-list .js-module-option-value').change(function(event) {
						if ($(event.target).val() === '') {
							$(this).parent('.list-group-item').trigger('app:module-option-unselected');
						} else {
							$(this).parent('.list-group-item').trigger('app:module-option-selected');
						}
					});
				};

				// define callbacks

				var onCategorySelection = function(event) {
					highlightMenuEntry(event.target, true);
					hideModuleOptionsList();
					hideYamlDocument();
					showModulesList(event.target);
				};

				var onModuleSelection = function(event) {
					highlightMenuEntry(event.target, true);
					showModuleOptionsList(event.target);
					showYamlDocument();
				};

				var onModuleOptionSelection = function(event) {
					highlightMenuEntry(event.target);
					regenerateYamlDocument();
				};

				var onModuleOptionUnselection = function(event) {
					unhighlightMenuEntry(event.target);
					clearModuleOptionValue(event.target);
					regenerateYamlDocument();
				};

				// bind callbacks

				$(document).bind('app:category-selected', onCategorySelection);
				$(document).bind('app:module-selected', onModuleSelection);
				$(document).bind('app:module-option-selected', onModuleOptionSelection);
				$(document).bind('app:module-option-unselected', onModuleOptionUnselection);

				// other

				var getNameOfActiveModule = function() {
					return $('.js-modules-list .list-group-item-info .js-module-name').first().text();
				};

				var getFormattedListModuleOptionsWithValues = function(separator) {
					var moduleOptions = [];
					$('.js-module-options-list .list-group-item-info').each(function(el) {
						var option = $('.js-module-option-name', this).text() + separator + ' ' + $('.js-module-option-value', this).val();
						moduleOptions.push(option);
					});
					return moduleOptions;
				};

				var generateYamlCommand = function() {
					var moduleName = getNameOfActiveModule();
					var moduleOptions = getFormattedListModuleOptionsWithValues(':'); // TODO: handle also key=value
					return '- ' + moduleName + ":\n  " + moduleOptions.join("\n  ");
				};

				// start

				showCategoriesList();
			});
		</script>
	</body>
</html>

